this.mfModules=this.mfModules||{},this.mfModules["mobile.amcOutreachDrawer"]=(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"./src/mobile.amcOutreachDrawer/AmcEnableForm.js":function(e,t,i){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=i("./src/mobile.startup/Button.js"),c=i("./src/mobile.startup/util.js"),u=i("./src/mobile.startup/View.js"),p=function(e){"use strict";function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,s(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,u),function(e,t,i){t&&r(e.prototype,t),i&&r(e,i)}(t,[{key:"postRender",value:function(){this.$el.append(new l({tagName:"button",progressive:!0,label:this.options.buttonLabel}).$el)}},{key:"isTemplateMode",get:function(){return!0}},{key:"template",get:function(){return c.template('\n<form class="amc-enable-form" action="{{postUrl}}" method="POST">\n\t{{#fields}}\n\t\t<input type="hidden" name="{{name}}" value="{{value}}">\n\t{{/fields}}\n</form>\n\t\t')}}]),t}();e.exports=p},"./src/mobile.amcOutreachDrawer/amcOutreachDrawer.js":function(e,t,i){var n=i("./src/mobile.startup/Drawer.js"),r=i("./src/mobile.startup/Anchor.js"),o=i("./src/mobile.startup/util.js"),s=i("./src/mobile.amcOutreachDrawer/AmcEnableForm.js"),a="enableAMC",l="1";e.exports=function(e,t,i,c,u,p,f){return new n({className:"amc-outreach-drawer",closeOnScroll:!1,children:[o.parseHTML("<div>").addClass("amc-outreach-image"),o.parseHTML("<p>").append(o.parseHTML("<strong>").text(i("mobile-frontend-amc-outreach-intro").text())),o.parseHTML("<p>").text(i("mobile-frontend-amc-outreach-description").text()),new s({postUrl:c.getUrl("Special:MobileOptions",{returnto:u.title}),fields:[{name:"updateSingleOption",value:a},{name:"enableAMC",value:l},{name:"token",value:f}],buttonLabel:i("mobile-frontend-amc-outreach-enable").text(),events:{submit:function(){t.makeActionIneligible(e),p.showOnPageReload(i("mobile-frontend-amc-outreach-enabled-message").text())}}}).$el,new r({href:"#",additionalClassNames:"cancel",progressive:!0,label:i("mobile-frontend-amc-outreach-no-thanks").text()}).$el],onBeforeHide:function(){t.makeActionIneligible(e),p.show(i("mobile-frontend-amc-outreach-dismissed-message").text())}})}},"./src/mobile.amcOutreachDrawer/mobile.amcOutreachDrawer.js":function(e,t,i){var n=i("./src/mobile.startup/moduleLoaderSingleton.js"),r=i("./src/mobile.amcOutreachDrawer/amcOutreachDrawer.js");n.define("mobile.amcOutreachDrawer",{amcOutreachDrawer:r})},"./src/mobile.startup/Anchor.js":function(e,t,i){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=i("./src/mobile.startup/View.js"),c=i("./src/mobile.startup/util.js"),u=function(e){"use strict";function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,s(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,l),function(e,t,i){t&&r(e.prototype,t),i&&r(e,i)}(t,[{key:"isTemplateMode",get:function(){return!0}},{key:"defaults",get:function(){return{progressive:void 0,destructive:void 0,additionalClassNames:"",href:void 0,label:void 0}}},{key:"template",get:function(){return c.template('\n<a {{#href}}href="{{href}}"{{/href}} class="mw-ui-anchor\n\t{{#progressive}} mw-ui-progressive{{/progressive}}\n\t{{#destructive}} mw-ui-destructive{{/destructive}}\n\t {{additionalClassNames}}">{{label}}</a>\n\t')}}]),t}();e.exports=u},"./src/mobile.startup/Button.js":function(e,t,i){var n=i("./src/mobile.startup/mfExtend.js"),r=i("./src/mobile.startup/util.js"),o=i("./src/mobile.startup/View.js");function s(e){e.href&&(e.tagName="a"),o.call(this,e)}n(s,o,{isTemplateMode:!0,defaults:{tagName:"a",disabled:!1,block:void 0,progressive:void 0,destructive:void 0,quiet:void 0,additionalClassNames:"",href:void 0,label:void 0},template:r.template('<{{tagName}} {{#disabled}}disabled{{/disabled}}\n{{#href}}href="{{href}}"{{/href}}\nclass="mw-ui-button {{#progressive}}mw-ui-progressive{{/progressive}}\n\t{{#block}}mw-ui-block{{/block}}\n\t{{#quiet}}mw-ui-quiet{{/quiet}}\n\t{{#destructive}}mw-ui-destructive{{/destructive}} {{additionalClassNames}}\n">{{label}}</{{tagName}}>')}),e.exports=s},"./src/mobile.startup/Drawer.js":function(e,t,i){var n=i("./src/mobile.startup/mfExtend.js"),r=i("./src/mobile.startup/View.js"),o=i("./src/mobile.startup/util.js"),s=new(i("./src/mobile.startup/Icon.js"))({name:"expand",additionalClassNames:"cancel"});function a(e){r.call(this,o.extend({closeOnScroll:!0,onBeforeHide:function(){},showCollapseIcon:!0},e,{className:"drawer position-fixed ".concat(e&&e.className||"").trim()},{events:o.extend({"click .cancel":function(e){e.preventDefault(),this.hide()}.bind(this),click:function(e){e.stopPropagation()}},(e||{}).events)}))}n(a,r,{minHideDelay:10,show:function(){var e=o.Deferred();return this.isVisible()?e.resolve():setTimeout(function(){this.$el.addClass("visible animated");var t=this.options.closeOnScroll;this.$el.parent().addClass("drawer-visible".concat(t?"":" has-drawer--with-scroll-locked")),setTimeout(function(){var i=o.getWindow();i.one("click.drawer",this.hide.bind(this)),t&&i.one("scroll.drawer",this.hide.bind(this)),e.resolve()}.bind(this),this.minHideDelay)}.bind(this),this.minHideDelay),e.promise()},hide:function(){setTimeout(function(){this.$el.removeClass("visible"),this.options.onBeforeHide(),this.$el.parent().removeClass("drawer-visible has-drawer--with-scroll-locked"),o.getWindow().off(".drawer")}.bind(this),this.minHideDelay)},isVisible:function(){return this.$el.hasClass("visible")},toggle:function(){this.isVisible()?this.hide():this.show()},appendToElement:"body",postRender:function(){this.options.showCollapseIcon&&this.$el.prepend(s.$el),this.options.children&&this.$el.append(this.options.children),o.docReady(function(){this.appendTo(this.appendToElement),this.$el.parent().addClass("has-drawer")}.bind(this))}}),e.exports=a},"./src/mobile.startup/Icon.js":function(e,t,i){var n=i("./src/mobile.startup/mfExtend.js"),r=i("./src/mobile.startup/util.js"),o=i("./src/mobile.startup/View.js");function s(e){e.hasText&&(e.modifier="mw-ui-icon-before ".concat(e.modifier||"")),e.href&&(e.tagName="a"),"button"===e.tagName&&(e.isTypeButton=!0),o.call(this,e)}n(s,o,{preRender:function(){this.setRotationClass()},setRotationClass:function(){var e=this.options;if(e.rotation)switch(e.rotation){case-180:case 180:e._rotationClass="mf-mw-ui-icon-rotate-flip";break;case-90:e._rotationClass="mf-mw-ui-icon-rotate-anti-clockwise";break;case 90:e._rotationClass="mf-mw-ui-icon-rotate-clockwise";break;case 0:break;default:throw new Error("Bad value for rotation given. Must be ±90, 0 or ±180.")}},isTemplateMode:!0,defaults:{rotation:0,hasText:!1,href:void 0,glyphPrefix:"mf",tagName:"div",isSmall:!1,base:"mw-ui-icon",name:"",modifier:"mw-ui-icon-element",title:""},getClassName:function(){return this.$el.attr("class")},getGlyphClassName:function(){return this.options.base+"-"+this.options.glyphPrefix+"-"+this.options.name},toHtmlString:function(){return this.parseHTML("<div>").append(this.$el).html()},template:r.template('<{{tagName}} {{#isTypeButton}}type="button"{{/isTypeButton}} class="{{base}} {{base}}-{{glyphPrefix}}-{{name}} {{modifier}} {{#isSmall}}mw-ui-icon-small{{/isSmall}} {{#_rotationClass}}{{_rotationClass}}{{/_rotationClass}} {{additionalClassNames}}" {{#id}}id="{{id}}"{{/id}} {{#href}}href="{{href}}"{{/href}} {{#title}}title="{{title}}"{{/title}}>{{#hasText}}<span>{{/hasText}}{{label}}{{#hasText}}</span>{{/hasText}}</{{tagName}}>')}),mw.log.deprecate(s.prototype,"toHtmlString",s.prototype.toHtmlString),e.exports=s},"./src/mobile.startup/View.js":function(e,t,i){var n=i("./src/mobile.startup/util.js"),r=i("./src/mobile.startup/mfExtend.js"),o=/^(\S+)\s*(.*)$/,s=0;function a(){this.initialize.apply(this,arguments)}OO.mixinClass(a,OO.EventEmitter),r(a,{tagName:"div",isTemplateMode:!1,template:void 0,templatePartials:{},defaults:{},initialize:function(e){var t=this;OO.EventEmitter.call(this),e=n.extend({},this.defaults,e),this.options=e,this.cid=function(e){var t=(++s).toString();return e?e+t:t}("view"),"string"==typeof this.template&&(this.template=mw.template.compile(this.template)),e.el?this.$el=$(e.el):this.$el=this.parseHTML("<"+this.tagName+">"),this.$el.length?this._postInitialize(e):n.docReady(function(){t.$el=$(e.el),t._postInitialize(e)})},_postInitialize:function(e){var t=e.className;this.$el.addClass(t),!1!==e.isBorderBox&&this.$el.addClass("view-border-box"),this.render({})},preRender:function(){},postRender:function(){},render:function(e){var t,i;return n.extend(this.options,e),this.preRender(),this.undelegateEvents(),this.template&&!this.options.skipTemplateRender&&(i=this.template.render(this.options,this.templatePartials),this.isTemplateMode?(t=$(i),this.$el.replaceWith(t),this.$el=t):this.$el.html(i)),this.postRender(),this.delegateEvents(),this},delegateEvents:function(e){var t,i,n;if(e=e||this.options.events)for(i in this.undelegateEvents(),e)"function"!=typeof(n=e[i])&&(n=this[e[i]]),n&&(t=i.match(o),this.delegate(t[1],t[2],n.bind(this)))},delegate:function(e,t,i){this.$el.on(e+".delegateEvents"+this.cid,t,i)},undelegateEvents:function(){this.$el&&this.$el.off(".delegateEvents"+this.cid)},undelegate:function(e,t,i){this.$el.off(e+".delegateEvents"+this.cid,t,i)},parseHTML:function(e){return n.parseHTML(e,document)}}),["append","prepend","appendTo","prependTo","after","before","insertAfter","insertBefore","remove","detach"].forEach(function(e){a.prototype[e]=function(){return this.$el[e].apply(this.$el,arguments),this}}),a.make=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=new a(e);return t.forEach(function(e){i.append(e)}),i},e.exports=a},"./src/mobile.startup/mfExtend.js":function(e,t){e.exports=function(e,t,i){var n;for(n in i?OO.inheritClass(e,t):(OO.initClass(e),i=t),i)e.prototype[n]=i[n]}},"./src/mobile.startup/moduleLoader.js":function(e,t){function i(){this._register={}}i.prototype={require:function(e){var t,i,n=this._register;function r(){if(!Object.hasOwnProperty.call(n,e))throw new Error("MobileFrontend Module not found: "+e);return n[e]}i=e.split("/");try{return(t=mw.loader.require(i[0]))[i[1]]?t[i[1]]:r()}catch(e){return r()}},define:function(e,t){var i=this;if(Object.hasOwnProperty.call(this._register,e))throw new Error("Module already exists: "+e);return this._register[e]=t,{deprecate:function(n){i.deprecate(n,t,e)}}},deprecate:function(e,t,i){var n;i&&(n="Use "+i+" instead."),mw.log.deprecate(this._register,e,t,n)}},e.exports=i},"./src/mobile.startup/moduleLoaderSingleton.js":function(e,t,i){var n=i("./src/mobile.startup/moduleLoader.js");e.exports=new n},"./src/mobile.startup/util.js":function(e,t){e.exports={saveButtonMessage:function(){return mw.config.get("wgEditSubmitButtonLabelPublish")?mw.msg("mobile-frontend-editor-publish"):mw.msg("mobile-frontend-editor-save")},Promise:{all:function(e){return $.when.apply($,e)}},escapeSelector:function(e){return $.escapeSelector(e)},grep:function(){return $.grep.apply($,arguments)},docReady:function(e){return $(e)},Deferred:function(){return $.Deferred()},getDocument:function(){return $(document.documentElement)},getWindow:function(){return $(window)},parseHTML:function(e,t){return t=t||document,$($.parseHTML(e,t))},isNumeric:function(){return $.isNumeric.apply($,arguments)},extend:function(){return $.extend.apply($,arguments)},escapeHash:function(e){return e.replace(/(:|\.)/g,"\\$1")},isModifiedEvent:function(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey},repeatEvent:function(e,t,i,n){return e.on(i,function(e){return t.emit(i,e)},n)},template:function(e){return{getSource:function(){return e},render:function(t,i){var n={};return Object.keys(i||{}).forEach(function(e){n[e]=i[e].getSource()}),Mustache.render(e.trim(),t,n)}}}}}},[["./src/mobile.amcOutreachDrawer/mobile.amcOutreachDrawer.js",0]]]);
//# sourceMappingURL=mobile.amcOutreachDrawer.js.map.json